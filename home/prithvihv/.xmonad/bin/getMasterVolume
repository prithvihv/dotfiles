#!/bin/sh

# To generate bars in python:
# import numpy
# import math
# for i in numpy.arange(0, 10.1, 0.1):
#     print str(i) + ") bar='" + ''.join(['/' for s in range(0, int(round(i)))]) + ''.join(['-' for s in range(0, int(10 - round(i)))]) +"' ;;"
#
# (Requires minor hand-editing to remove '.0' for whole numbers.
#
#
bars=$(pactl list sinks | grep '^[[:space:]]Volume:' | tail -n $(($SINK + 1)) | tail -n 1 | sed -e 's,.* \([0-9][0-9]*\)%.*,\1,')
# bars=$(pactl list sinks | grep '^[[:space:]]Volume:' | tail -n 1 |  head -n $(($SINK + 1)) | tail -n 1 | sed -e 's,.* \([0-9][0-9]*\)%.*,\1,')

case $bars in
0) bar='----------' ;;
1) bar='----------' ;;
2) bar='----------' ;;
3) bar='----------' ;;
4) bar='----------' ;;
5) bar='----------' ;;
6) bar='/---------' ;;
7) bar='/---------' ;;
8) bar='/---------' ;;
9) bar='/---------' ;;
10) bar='/---------' ;;
11) bar='/---------' ;;
12) bar='/---------' ;;
13) bar='/---------' ;;
14) bar='/---------' ;;
15) bar='//--------' ;;
16) bar='//--------' ;;
17) bar='//--------' ;;
18) bar='//--------' ;;
19) bar='//--------' ;;
20) bar='//--------' ;;
21) bar='//--------' ;;
22) bar='//--------' ;;
23) bar='//--------' ;;
24) bar='//--------' ;;
25) bar='//--------' ;;
26) bar='///-------' ;;
27) bar='///-------' ;;
28) bar='///-------' ;;
29) bar='///-------' ;;
30) bar='///-------' ;;
31) bar='///-------' ;;
32) bar='///-------' ;;
33) bar='///-------' ;;
34) bar='///-------' ;;
35) bar='////------' ;;
36) bar='////------' ;;
37) bar='////------' ;;
38) bar='////------' ;;
39) bar='////------' ;;
40) bar='////------' ;;
41) bar='////------' ;;
42) bar='////------' ;;
43) bar='////------' ;;
44) bar='////------' ;;
45) bar='////------' ;;
46) bar='/////-----' ;;
47) bar='/////-----' ;;
48) bar='/////-----' ;;
49) bar='/////-----' ;;
50) bar='/////-----' ;;
51) bar='/////-----' ;;
52) bar='/////-----' ;;
53) bar='/////-----' ;;
54) bar='/////-----' ;;
55) bar='//////----' ;;
56) bar='//////----' ;;
57) bar='//////----' ;;
58) bar='//////----' ;;
59) bar='//////----' ;;
60) bar='//////----' ;;
61) bar='//////----' ;;
62) bar='//////----' ;;
63) bar='//////----' ;;
64) bar='//////----' ;;
65) bar='//////----' ;;
66) bar='///////---' ;;
67) bar='///////---' ;;
68) bar='///////---' ;;
69) bar='///////---' ;;
70) bar='///////---' ;;
71) bar='///////---' ;;
72) bar='///////---' ;;
73) bar='///////---' ;;
74) bar='///////---' ;;
75) bar='////////--' ;;
76) bar='////////--' ;;
77) bar='////////--' ;;
78) bar='////////--' ;;
79) bar='////////--' ;;
80) bar='////////--' ;;
81) bar='////////--' ;;
82) bar='////////--' ;;
83) bar='////////--' ;;
84) bar='////////--' ;;
85) bar='////////--' ;;
86) bar='/////////-' ;;
87) bar='/////////-' ;;
88) bar='/////////-' ;;
89) bar='/////////-' ;;
90) bar='/////////-' ;;
91) bar='/////////-' ;;
92) bar='/////////-' ;;
93) bar='/////////-' ;;
94) bar='/////////-' ;;
95) bar='//////////' ;;
96) bar='//////////' ;;
97) bar='//////////' ;;
98) bar='//////////' ;;
99) bar='//////////' ;;
100) bar='//////////' ;;
*) bar='----------' ;;
esac

echo "$bar ($bars%)"
